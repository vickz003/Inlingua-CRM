{% extends 'main.html' %}
{% load static %}

{% block title %}
Home page | Inlingua
{% endblock %}
{% block style %}
{% endblock %}

{% block container %}
<div class="container mt-3">
    <div class="home-nav-barcontainer d-flex p-3">
        <img src="{% static 'img/imgs/L1.png' %}" alt="" width="200px">
        <div class="message-container">
            <i class='bx bx-message-detail' id="msg-icon"></i>
            <div class="msg-count">
                {{ messages_count }} 1
            </div>
        </div>
    </div>
    {% include 'inc/message.html' %}
</div>

<div class="profile-container container mt-3 mb-3" >
    <div class="container msg-box-open" id="msg-container" style="position: absolute; min-width: 100vw; min-height: 100vh; display: flex; justify-content: center; align-items: center; top: 0; left: 0;">
        <div class="col-12 col-lg-4 message-box">
            <div class="mb-3 heading d-flex align-items-center justify-content-between">
                <h3>Notifcaions</h3>
                <i class='bx bx-x' id="close-icon"></i>
            </div>
            <p class="mt-4">Keep your personal number hidden, give information anonymously or just want to play a joke on a friend?</p>
            <hr>
            <p class="mt-4">Keep your personal number hidden, give information anonymously or just want to play a joke on a friend?</p>
            <hr>
            <p class="mt-4">Keep your personal number hidden, give information anonymously or just want to play a joke on a friend?</p>
            <hr>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-8">
            <div class="student-details">
                <div class="container-fuild d-flex align-items-center" style="width: 70%;">
                    <div class="profile">
                        <img
                        {% if user.user_img.url is not None %}
                            src="{{ user.user_img.url }}"
                        {% else %}
                            src="{% static 'img/imgs/Ellipse 3.svg' %}"
                        {% endif %}
                        alt="" width="100px" height="100px" class="rounded-circle me-2">
                    </div>
                    <div class="profile-name w-100 mt-3">
                        <h3>Hi, {{user.name}}</h3>
                        <div class="today-date d-flex align-items-center">
                            <i class='bx bx-calendar'></i>
                            <p class="m-0" id="currentDate"></p>
                            <p class="m-0"> | </p>
                                <script>
                                var currentDate = new Date();
                                var options = { year: 'numeric', month: 'long', day: 'numeric' };
                                var formattedDate = currentDate.toLocaleDateString('en-US', options);
                                document.getElementById('currentDate').textContent = formattedDate;
                                </script>
                            <p class="m-0" id="currentDay"></p>
                            <script>
                              var currentDate = new Date();
                              var daysOfWeek = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
                              var currentDayIndex = currentDate.getDay();
                              var currentDayName = daysOfWeek[currentDayIndex];
                              document.getElementById('currentDay').textContent = currentDayName;
                            </script>
                            
                        </div>
                    </div>
                </div>
                <div class="get-certifite mt-3">
                    <p>ID : {{user.id}}</p>
                    <a href="#" class="btn btn-dark"><i class='bx bx-download mr-3'></i> Get Certificate</a>
                </div>
            </div>
            <div class="progress-card">
                <div class="row">
                    <div class="col-lg-4 d-flex align-items-center justify-content-center">
                        <a href="one" style="width: 100%; text-decoration: none;">
                        <div class="container-fuild mt-3 d-flex d-lg-block align-items-center">
                            <div class="contant bg-dark">
                                <img src="{% static 'img/imgs/Book.svg' %}" alt="">
                            </div>
                            <p class="m-3 m-lg-0">Study Material</p>
                        </div>
                        </a>
                    </div>
                    <div class="col-lg-4  d-flex align-items-center justify-content-center">
                        <a href="one" style="width: 100%; text-decoration: none;">
                        <div class="container-fuild mt-3 d-flex d-lg-block align-items-center">
                            <div class="contant bg-dark">
                                <img src="{% static 'img/imgs/Pen.svg' %}" alt="">
                            </div>
                            <p class="m-3 m-lg-0">Assessment</p>
                        </div>
                        </a>
                    </div>
                    <div class="col-lg-4  d-flex align-items-center justify-content-center">
                        <a href="one" style="width: 100%; text-decoration: none;">
                        <div class="container-fuild mt-3 d-flex d-lg-block align-items-center">
                            <div class="contant bg-dark">
                                <img src="{% static 'img/imgs/Youtube.svg' %}" alt="">
                            </div>
                            <p class="m-3 m-lg-0">Recorded Session</p>
                        </div>
                        </a>
                    </div>                
                </div>
            </div>
        </div>
        <div class="col-lg-4 mt-3 mt-lg-0">
            <div class="course-full-container container bg-dark">
                <div class="container-fuild">
                    <div class="course-details">
                        <h1 class="text-white">{{cources.Name}} - {{level.Code}}</h1>
                        <div class="course-progress-container">
                            <div class="progress" style="height: 5px;">
                                <div
                                    class="progress-bar"
                                    role="progressbar"
                                    style="width: {{cources.Course_status}}%; height: 10px; background-color: #FF751A;"
                                    aria-valuenow="25"
                                    aria-valuemin="0"
                                    aria-valuemax="100"
                                >
                                </div>
                            </div>
                            <div class="progress-value d-flex justify-content-between">
                                <p class="text-white">Class progress</p>
                                <span class="text-white">{{cources.Course_status}} / 100</span>
                            </div>
                        </div>
                    </div>
                    <div class="course-details-rainers mt-4">
                        <p class="m-0 text-white"><span class="letter-orange">Duration </span>: {{ cources.StartDate|date:"d-m-Y" }} - {{ cources.EndtDate|date:"d-m-Y" }}</p>
                        <p class="m-0 text-white"><span class="letter-orange">Session Time </span>: {{ cources.StartTime|time:"g.i A" }} - {{ cources.EndTime|time:"g.i A" }}</p>
                        <p class="m-0 text-white"><span class="letter-orange">Trainer </span>: Manoj Kumar</p>
                    </div>
                    <div class="buttons mt-5 d-flex align-items-center justify-content-between">
                        <a href="#">Join Class</a>
                        <a href="{% url 'logout' %}" class="logout">Log out</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    const mss_box = document.getElementById('msg-icon');
    const close_btn = document.getElementById('close-icon');
    const msg_container = document.getElementById('msg-container');
    mss_box.addEventListener("click", () => {
        msg_container.classList.remove("msg-box-open");
    });
    close_btn.addEventListener("click", () => {
        msg_container.classList.add("msg-box-open");
    })
</script>
{% endblock %}
    